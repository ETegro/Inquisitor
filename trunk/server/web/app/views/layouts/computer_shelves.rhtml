<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
	<title>Inquisitor: Enterprise - <%= controller.action_name %></title>
	<%= javascript_include_tag 'prototype' %>
	<%= stylesheet_link_tag 'inq' %>
	<%= stylesheet_link_tag 'shelves' %>
</head>
<body>

	<div id='title_bar'> 
	</div>
	
	<div id='content'>
			<%= yield %>		
	</div>
	<%= javascript_tag(<<_EOF_

	Event.observe(window, 'load', function () {
		var body = $$('body').first();
		Event.observe(window, 'mousemove', function (event) {
			var x = Event.pointerX(event), y = Event.pointerY(event);
			var mh = 10, mv = 10;
			$$('.hidden_memo').each(function (memo) {
				if(memo.visible) {
					var w = memo.getWidth(), h = memo.getHeight();
					if(x + mh + w > body.getWidth()) {
						memo.style.left = x - w - mh + 'px';
					} else {
						memo.style.left = x + mh + 'px';
					}
					if(y + mv + h > body.getHeight()) {
						memo.style.top = y - h - mh + 'px';
					} else {
						memo.style.top = y + mh + 'px';
					}
				}
			});			
		});
	});

_EOF_
	) %>
</body>
</html>
